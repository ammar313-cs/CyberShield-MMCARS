# CyberShield Environment Configuration
# Copy this file to .env.local and fill in your values

# =============================================================================
# Redis / LangCache Configuration
# =============================================================================
LANG_CACHE_API_KEY=your_langcache_api_key_here
CACHE_ID=your_cache_id_here
CACHE_URL=

# Local Redis (for development)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# Application Configuration
# =============================================================================
APP_NAME=CyberShield
APP_ENV=development
DEBUG=true
LOG_LEVEL=INFO

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# =============================================================================
# Security Configuration
# =============================================================================
SECRET_KEY=your-secret-key-change-in-production
ALLOWED_HOSTS=localhost,127.0.0.1

# API Key Authentication
# Comma-separated list of valid API keys for authenticating API requests
# Generate new keys with: python -c "import secrets; print(f'cs_{secrets.token_urlsafe(32)}')"
API_KEYS=cs_your_api_key_here

# =============================================================================
# ML Configuration
# =============================================================================
ML_MODEL_PATH=src/ml/weights
ANOMALY_THRESHOLD=0.7
PATTERN_THRESHOLD=0.8
ENSEMBLE_WEIGHTS=0.4,0.3,0.3

# =============================================================================
# Agent Configuration
# =============================================================================
AGENT_COORDINATION_TIMEOUT=5000
AGENT_MAX_RETRIES=3
AGENT_RESPONSE_WINDOW=1000

# =============================================================================
# Response Configuration
# =============================================================================
IP_BLOCK_DURATION=3600
RATE_LIMIT_WINDOW=60
RATE_LIMIT_MAX_REQUESTS=100
AUTO_MITIGATION_ENABLED=true

# =============================================================================
# Dashboard Configuration
# =============================================================================
DASHBOARD_HOST=0.0.0.0
DASHBOARD_PORT=8081
WEBSOCKET_HEARTBEAT_INTERVAL=30

# =============================================================================
# Reverse Proxy Gateway Configuration
# =============================================================================
# Proxy server binding
PROXY_HOST=0.0.0.0
PROXY_PORT=8080

# Upstream servers (comma-separated, format: host:port:weight)
# Example: localhost:8000:1,backup-server:8000:1
PROXY_UPSTREAMS=localhost:8000:1

# Inspection mode: passive, active, strict, learning
# - passive: Log only, no blocking
# - active: Analyze and block confirmed threats (recommended)
# - strict: Block suspicious and confirmed threats
# - learning: Collect data for ML training
PROXY_INSPECTION_MODE=active

# Threat confidence threshold (0.0-1.0)
# Requests with threat confidence >= threshold will be blocked
PROXY_THREAT_THRESHOLD=0.7

# Rate limiting
PROXY_RATE_LIMIT=100
PROXY_RATE_WINDOW=60

# SSL/TLS (optional)
PROXY_SSL_ENABLED=false
PROXY_SSL_CERT=
PROXY_SSL_KEY=

# Blocked IPs (comma-separated)
PROXY_BLOCKED_IPS=

# Default upstream if PROXY_UPSTREAMS not set
PROXY_DEFAULT_UPSTREAM_HOST=localhost
PROXY_DEFAULT_UPSTREAM_PORT=8000
